# MySample

<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

âœ¨ **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** âœ¨

# Solution Architecture


## Objectives

### Universal App (Mobile and Web)

### Offline First


## Project Technologies

### VS Code

### Docker

### GitHub

### Nx

### TypeScript

### Expo

### React Native

### Babel

### ESLint

### Prettier

### EAS

### Amplify

#### Auth

#### Datastore

<br>
<br>

# SOURCE CODE REPOSITORY
Our approach for establishing the full development ecosystem for your solution starts first with setting up a repository to store you code.
## REPO SETUP
1. Setup GitHub Account.
2. Fork template repo.

<br>
<br>

# LOCAL DEVELOPMENT ENVIRONMENT
Local
Offline Development Capable
Unit Testing
End to End Testing

## SETUP
1. Install Docker.
2. Install Visual Studio Code.
3. Clone the repo.  
```
git clone https://github.com/Stewartarmbrecht/my-sample.git
```
4. Open in Visual Studio.
```
cd my-sample
code .
```
5. Edit the forwarding ports for container.  In the .devcontainer/devcontainer.json change the block below so that the IP Address matches the IP address of your machine.
You can also change the port numbers that you want to use.

This is the only way I have found to host your dev environment in a docker container (on a Windows machine) and access it from a physical device.
```
		"10.24.1.57:8381:8381",
		"10.24.1.57:9388:9388",
		"10.24.1.57:9389:9389",
		"10.24.1.57:19300:19300", // Used for serving the javascript bundler.
		"10.24.1.57:19301:19301", // Used for Metro Bundler
		"10.24.1.57:19302:19302", // Used by Expo DevTools.
		"10.24.1.57:19306:19306"
```

6. Open in Dev Container
```
Cntrl+Shift+P
"Reopen in Container"
```
7. Run npm Install.  After the container is built and you are in, run npm install.
```
npm install
```
8. Initialize Amplify
You need to initialize amplify to create some local files so that you can run the app.
Note: if amplify is not recognized as a command I have found that rebuilding the container will fix this.  Just press Cntrl+Shift+P and them type Rebuild Container and select the Dev Container command.
```
cd libs/my-backend
amplify init
```
* **Environment Name:** dev
* **Default Editor:** Visual Studio Code
* **Authentication:** AWS Profile
* **New User:** Yes
If you get this error then just click the link to manually open the console.  Hit enter after you log in.
```
Sign in to your AWS administrator account:
https://console.aws.amazon.com/
Press Enter to continue
Unable to open https://console.aws.amazon.com/: spawn xdg-open ENOENT
Have you installed `xdg-utils` on your machine?
```
* **Region:** Your choice.
* **Amplify CLI User:** Click the link and follow the instructions to set a user that your Amplify CLI will use to connect to AWS.  Set a name that will help you identify the cli running in your dev container.  If you are connecting to a shared AWS account consider adding a name like:  mySolutionBackend-<userName>
* **accessKeyId:** Copied from access key created in instructions provided.
* **secretAccessKey:** Copied from access key created in instructions provided.
* **Profile Name:** (default)
* **Profile to Use:** default

GETTING ERROR:
```
node âžœ /workspaces/my-sample/libs/my-backend (master) $ amplify init
Note: It is recommended to run this command from the root of your app directory
? Do you want to use an existing environment? Yes
? Choose the environment you would like to use: dev
Using default provider  awscloudformation
âœ– Initializing your environment: dev
âœ– There was an error initializing your environment.
ðŸ›‘ Could not initialize platform for 'dev': Access Denied
```

... To be continued.

9. Run the app to verify the setup.
To run the app you need to export the ip address of your machine and set the port for the javascript bundle to the value you set above then start the app.  This command will start the app in web mode:

```
export REACT_NATIVE_PACKAGER_HOSTNAME=10.24.1.57; npx nx start my-app --web --port=19300
```


### Local Hosting

#### Amplify Local Dev Environment


### Test (EAS Development Build)

#### Amplify Test Environment

##### Amplify Test Backend

##### Amplify Test Web Hosting

#### EAS Build Test Channel

##### Test Build Installation


### Preview (EAS Build Preview Channel, Amplify Dev)

#### Amplify Preview Environment

##### Amplify Preview Backend

##### Amplify Preview Web Hosting

#### EAS Preview Channel

##### Preview Build Installation


### Production

#### Amplify Production Environment

##### Amplify Prodution Backend

##### Amplify Production Web Hosting

#### EAS Production Build

##### iOS App Store

##### Android App Store


# Setup

## Local Environment


## Amplify Backend

1. Initialize AWS amplify. You might need to delete (/amplify/team-provider-info.json) to get amplify init to work.
```
amplify init
```
2. Push amplify configuration to your aws environment.
```
amplify push
```

## Amplify Hosting

## Additional Developer Environments



# Workflows

## Building

## Running


## Coding

### Generating Libraries

### Generating Components

### Copilot


## Static Code Analysis (Linting)

### ESLint

### Prettier


## Testing

### Unit Testing

### End to End Testing


## Debugging

### Unit Tests

### Local


## Deploying



## Monitoring

## Development Logging

## Production Logging

<br>
<br>
<br>
<br>
<br>
<br>

# NX generated readme...
## Generate code

If you happen to use Nx plugins, you can leverage code generators that might come with it.

Run `nx list` to get a list of available plugins and whether they have generators. Then run `nx list <plugin-name>` to see what generators are available.

Learn more about [Nx generators on the docs](https://nx.dev/plugin-features/use-code-generators).

## Running tasks

To execute tasks with Nx use the following syntax:

```
nx <target> <project> <...options>
```

You can also run multiple targets:

```
nx run-many -t <target1> <target2>
```

..or add `-p` to filter specific projects

```
nx run-many -t <target1> <target2> -p <proj1> <proj2>
```

Targets can be defined in the `package.json` or `projects.json`. Learn more [in the docs](https://nx.dev/core-features/run-tasks).

## Want better Editor Integration?

Have a look at the [Nx Console extensions](https://nx.dev/nx-console). It provides autocomplete support, a UI for exploring and running tasks & generators, and more! Available for VSCode, IntelliJ and comes with a LSP for Vim users.

## Ready to deploy?

Just run `nx build demoapp` to build the application. The build artifacts will be stored in the `dist/` directory, ready to be deployed.

## Set up CI!

Nx comes with local caching already built-in (check your `nx.json`). On CI you might want to go a step further.

- [Set up remote caching](https://nx.dev/core-features/share-your-cache)
- [Set up task distribution across multiple machines](https://nx.dev/nx-cloud/features/distribute-task-execution)
- [Learn more how to setup CI](https://nx.dev/recipes/ci)

## Connect with us!

- [Join the community](https://nx.dev/community)
- [Subscribe to the Nx Youtube Channel](https://www.youtube.com/@nxdevtools)
- [Follow us on Twitter](https://twitter.com/nxdevtools)
